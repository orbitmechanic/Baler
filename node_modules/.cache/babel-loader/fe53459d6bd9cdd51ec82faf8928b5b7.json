{"ast":null,"code":"var _jsxFileName = \"/Users/orbiter/Documents/code/baler/src/components/minterSpace.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport DragAndDrop from './dragAndDrop';\nimport Image from 'react-bootstrap/Image';\nimport draganddrop from '../images/drag.png';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Moralis = require('moralis');\n\nconst MinterSpace = props => {\n  _s();\n\n  const [image, setImage] = useState(null);\n\n  function handleDrop(files) {\n    setImage(files[0]);\n    console.log('Dropped ', files[0]);\n    document.getElementById('imageName').value = files[0].name; // console.log(files)\n  }\n\n  async function uploadImage() {\n    const imageName = document.getElementById('imageName').value;\n    const file = image;\n    const moralisFile = new Moralis.File(imageName, file);\n    moralisFile.save().then(function () {\n      setImage(null);\n      const userImg = new Moralis.Object(\"UserImage\");\n      userImg.set(\"userId\", props.user.id);\n      userImg.set(\"img\", moralisFile);\n      userImg.save().then(() => {\n        alert(\"Image uploaded!\"); // mint token\n\n        const currentUser = Moralis.User.current();\n        const userAddress = currentUser.get('ethAddress');\n        const savedImgURL = userImg.attributes.img._url;\n        window.contractInstance.methods.mint(userAddress, savedImgURL, [1, 2]).send({\n          from: userAddress\n        }).then(() => {\n          alert(\"Token URI Loaded\");\n        });\n      });\n    }, error => {\n      alert(error);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(DragAndDrop, {\n        handleDrop: handleDrop,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-6\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              src: draganddrop,\n              rounded: true,\n              alt: \"drag-logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), !image ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Insert an image here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-6 justify-content-center align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: image && image.name ? image.name : 'name',\n                id: \"imageName\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Title\",\n                id: \"title\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Copies\",\n                id: \"copies\",\n                type: \"number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 73\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Address beneficiary\",\n                id: \"beneficiary\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-success\",\n            onClick: uploadImage,\n            disabled: !image,\n            children: \"Bale it!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-danger\",\n            disabled: !image,\n            onClick: () => {\n              setImage(null);\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(MinterSpace, \"azb7M8tR7S/vp1+UqWJMufJLR5I=\");\n\n_c = MinterSpace;\nexport default MinterSpace;\n\nvar _c;\n\n$RefreshReg$(_c, \"MinterSpace\");","map":{"version":3,"sources":["/Users/orbiter/Documents/code/baler/src/components/minterSpace.js"],"names":["React","useState","Button","DragAndDrop","Image","draganddrop","Col","Row","Moralis","require","MinterSpace","props","image","setImage","handleDrop","files","console","log","document","getElementById","value","name","uploadImage","imageName","file","moralisFile","File","save","then","userImg","Object","set","user","id","alert","currentUser","User","current","userAddress","get","savedImgURL","attributes","img","_url","window","contractInstance","methods","mint","send","from","error"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport DragAndDrop from './dragAndDrop';\nimport Image from 'react-bootstrap/Image';\nimport draganddrop from '../images/drag.png';\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\nconst Moralis = require('moralis');\n\nconst MinterSpace = (props) => {\n\n  const [image, setImage] = useState(null);\n\n  function handleDrop(files){\n    setImage(files[0]);\n    console.log('Dropped ',files[0]);\n    document.getElementById('imageName').value = files[0].name;\n    // console.log(files)\n  }\n\n  async function uploadImage(){\n    const imageName = document.getElementById('imageName').value;\n    const file = image;\n    const moralisFile = new Moralis.File(imageName, file);\n    moralisFile.save()\n    .then(function() {\n        setImage(null);\n        const userImg = new Moralis.Object(\"UserImage\");\n        userImg.set(\"userId\", props.user.id);\n        userImg.set(\"img\", moralisFile);\n        userImg.save()\n          .then(() => {\n            alert(\"Image uploaded!\");\n            // mint token\n            const currentUser = Moralis.User.current();\n            const userAddress = currentUser.get('ethAddress');\n            const savedImgURL = userImg.attributes.img._url;\n            window.contractInstance.methods.mint(userAddress , savedImgURL, [1,2])\n              .send({from: userAddress })\n              .then( () => {alert(\"Token URI Loaded\")})\n          });\n    }, (error) => {alert(error);})\n\n    return (\n      <div >\n        <DragAndDrop handleDrop={handleDrop}>\n          <Row className='justify-content-center'>\n            <Col className='col-6'>\n              <Image src={draganddrop} rounded alt=\"drag-logo\"  />\n              {!image?\n                <p>Insert an image here!</p>\n                :null}\n            </Col>\n\n            <Col className='col-6 justify-content-center align-items-center'>\n              <div>\n                <input placeholder={image && image.name?image.name:'name'} id=\"imageName\" type=\"text\" />\n                <input placeholder='Title' id=\"title\" type=\"text\" />\n                <input placeholder='Copies' id=\"copies\" type=\"number\" /><br />\n                <input placeholder='Address beneficiary' id=\"beneficiary\" type=\"text\" />\n              </div>\n            </Col>\n          </Row>\n          <Row className='justify-content-center'>\n            <Button className='btn-success' onClick={uploadImage} disabled={!image}>Bale it!</Button>\n            <Button className='btn-danger' disabled={!image} onClick={()=>{\n                setImage(null);\n              }}>Cancel</Button>\n          </Row>\n        </DragAndDrop>\n      </div>\n    )\n  } \n}\n\nexport default MinterSpace;\n"]},"metadata":{},"sourceType":"module"}
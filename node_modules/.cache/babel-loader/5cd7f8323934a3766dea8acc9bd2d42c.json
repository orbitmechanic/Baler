{"ast":null,"code":"var _jsxFileName = \"D:\\\\8 Github\\\\baler\\\\src\\\\components\\\\minterSpace.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport DragAndDrop from './dragAndDrop';\nimport Image from 'react-bootstrap/Image';\nimport draganddrop from '../images/drag.png';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Moralis = require('moralis');\n\nconst MinterSpace = props => {\n  _s();\n\n  const [image, setImage] = useState(null);\n\n  function handleDrop(files) {\n    setImage(files[0]);\n    console.log('Dropped ', files[0]);\n    document.getElementById('imageName').value = files[0].name; // console.log(files)\n  }\n\n  async function uploadImage() {\n    const imageName = document.getElementById('imageName').value;\n    const file = image;\n    console.log('Preloading:');\n    console.log(imageName);\n    console.log(file);\n    const moralisFile = new Moralis.File(imageName, file);\n    moralisFile.save().then(function () {\n      setImage(null);\n      const userImg = new Moralis.Object(\"UserImage\");\n      userImg.set(\"userId\", props.user.id);\n      userImg.set(\"img\", moralisFile);\n      userImg.save().then(console.log(\"Image uploaded!\")); //update front\n\n      console.log('userImg:');\n      console.log(userImg);\n      let savedImgURL = userImg.attributes.img._url;\n      console.log(\"savedImgURL\");\n      console.log(savedImgURL);\n    }, function (error) {\n      console.log('Place a name to the file.. with extension!');\n    });\n    console.log('moralisFile:');\n    console.log(moralisFile);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DragAndDrop, {\n      handleDrop: handleDrop,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: draganddrop,\n            rounded: true,\n            alt: \"drag-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), !image ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Insert an image here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"col-6 justify-content-center align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: image && image.name ? image.name : 'name',\n              id: \"imageName\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Title\",\n              id: \"title\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Copies\",\n              id: \"copies\",\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 73\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Address beneficiary\",\n              id: \"beneficiary\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-success\",\n          onClick: uploadImage,\n          disabled: !image,\n          children: \"Bale it!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-danger\",\n          disabled: !image,\n          onClick: () => {\n            setImage(null);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n};\n\n_s(MinterSpace, \"azb7M8tR7S/vp1+UqWJMufJLR5I=\");\n\n_c = MinterSpace;\nexport default MinterSpace;\n\nvar _c;\n\n$RefreshReg$(_c, \"MinterSpace\");","map":{"version":3,"sources":["D:/8 Github/baler/src/components/minterSpace.js"],"names":["React","useState","Button","DragAndDrop","Image","draganddrop","Col","Row","Moralis","require","MinterSpace","props","image","setImage","handleDrop","files","console","log","document","getElementById","value","name","uploadImage","imageName","file","moralisFile","File","save","then","userImg","Object","set","user","id","savedImgURL","attributes","img","_url","error"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport DragAndDrop from './dragAndDrop';\r\nimport Image from 'react-bootstrap/Image';\r\nimport draganddrop from '../images/drag.png';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\n\r\nconst Moralis = require('moralis');\r\n\r\nconst MinterSpace = (props) => {\r\n\r\n  const [image, setImage] = useState(null);\r\n\r\n  function handleDrop(files){\r\n    setImage(files[0]);\r\n    console.log('Dropped ',files[0]);\r\n    document.getElementById('imageName').value = files[0].name;\r\n    // console.log(files)\r\n  }\r\n\r\n  async function uploadImage(){\r\n    const imageName = document.getElementById('imageName').value;\r\n    const file = image;\r\n    console.log('Preloading:');\r\n    console.log(imageName);\r\n    console.log(file);\r\n    const moralisFile = new Moralis.File(imageName, file);\r\n    moralisFile.save().then(function() {\r\n      setImage(null);\r\n      const userImg = new Moralis.Object(\"UserImage\");\r\n      userImg.set(\"userId\", props.user.id);\r\n      userImg.set(\"img\", moralisFile);\r\n      userImg.save().then(console.log(\"Image uploaded!\"));\r\n      //update front\r\n      console.log('userImg:');\r\n      console.log(userImg);\r\n      let savedImgURL = userImg.attributes.img._url;\r\n      console.log(\"savedImgURL\");\r\n      console.log(savedImgURL);\r\n\r\n    }, function(error) {\r\n      console.log('Place a name to the file.. with extension!');\r\n    });\r\n    console.log('moralisFile:');\r\n    console.log(moralisFile);\r\n  }\r\n\r\n    return (\r\n      <div >\r\n        <DragAndDrop handleDrop={handleDrop}>\r\n          <Row className='justify-content-center'>\r\n            <Col className='col-6'>\r\n              <Image src={draganddrop} rounded alt=\"drag-logo\"  />\r\n              {!image?\r\n                <p>Insert an image here!</p>\r\n                :null}\r\n            </Col>\r\n\r\n            <Col className='col-6 justify-content-center align-items-center'>\r\n              <div>\r\n                <input placeholder={image && image.name?image.name:'name'} id=\"imageName\" type=\"text\" />\r\n                <input placeholder='Title' id=\"title\" type=\"text\" />\r\n                <input placeholder='Copies' id=\"copies\" type=\"number\" /><br />\r\n                <input placeholder='Address beneficiary' id=\"beneficiary\" type=\"text\" />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row className='justify-content-center'>\r\n            <Button className='btn-success' onClick={uploadImage} disabled={!image}>Bale it!</Button>\r\n            <Button className='btn-danger' disabled={!image} onClick={()=>{\r\n                setImage(null);\r\n              }}>Cancel</Button>\r\n          </Row>\r\n        </DragAndDrop>\r\n  </div>\r\n)\r\n}\r\nexport default MinterSpace;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/CalvinCutlass/Desktop/Coding/coding_2020/Ivan Academy/Moralis/baler/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useState } from 'react'; //Bootstrap\n\nimport './bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image'; //Components\n\nimport LogButton from './components/logButton';\nimport MinterSpace from './components/minterSpace';\nimport CharacterSheet from './components/characterSheet';\nimport UserData from './components/userData'; //Helpers\n// Extras\n\nimport baler from './images/baler.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Moralis = require('moralis');\n\nconst Web3 = require('web3');\n\nconst tokenJsonABI = require('./contracts/Token.json');\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState(null); //Data on dApp\n\n  const [userData, setUserData] = useState(null);\n  const [gallery, setGallery] = useState(null);\n  const [likes, setLikes] = useState(null);\n  const [editMode, setEditMode] = useState(false); // Replace this upon deployment:\n\n  const [contractAddress] = useState(\"0x8D25eB164C769fCf10666E3d7ada650328d59b16\"); // const [contractInstance]=useState(null);\n  //DApp handlers\n\n  const [nftSelected, setNftSelected] = useState(null);\n  const [galleryOpen, setGalleryOpen] = useState(false);\n  const [likesOpen, setLikesOpen] = useState(false);\n  const [userList, setUserList] = useState(true);\n  const [galleryOwner, setGalleryOwner] = useState(null);\n  const tokenABI = tokenJsonABI['abi']; // Moralis confs.\n  // Replace these per server:\n\n  Moralis.initialize(\"GsvY24d7vRLDtU5ixRYK10Ry7GscQEJP8mDVzzY3\");\n  Moralis.serverURL = 'https://wvtjjsmhximj.moralis.io:2053/server'; //Moralis functions\n\n  const currentUser = Moralis.User.current();\n\n  if (currentUser) {\n    if (!user) {\n      setUser(currentUser);\n      fetchUserData(currentUser);\n      getGallery(currentUser.attributes.ethAddress);\n      getLikes(currentUser);\n      connectContract();\n    }\n  } else {\n    console.log('should explain protocol and ask for login');\n  }\n\n  Moralis.Web3.onAccountsChanged(async function (accounts) {\n    alert('Account changed!');\n    setUserData(null);\n  });\n\n  async function login() {\n    let userAuth;\n\n    try {\n      userAuth = await Moralis.Web3.authenticate();\n      setUser(userAuth);\n      fetchUserData(userAuth);\n      alert(\"User logged in\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function logout() {\n    console.log('Login out');\n    Moralis.User.logOut().then(() => {\n      const currentUser = Moralis.User.current(); // this will now be null\n\n      setUser(currentUser);\n      setUserData(null);\n      setGallery(null);\n      setLikes(null);\n    });\n  }\n\n  function getProfileForAddress(address) {\n    return address ? Moralis.Cloud.run(\"getProfileForAddress\", {\n      address\n    }) : null;\n  }\n\n  function getNameForAddress(address) {\n    return address ? Moralis.Cloud.run(\"getNameForAddress\", {\n      address\n    }) : null;\n  } //Backend queries\n\n\n  async function fetchUserData(currentUser) {\n    let usernameRetrieve = await currentUser.get('username');\n    let emailRetrieve = await currentUser.get('email');\n    let ethAddress = await currentUser.get('ethAddress');\n    await setUserData({\n      username: usernameRetrieve,\n      email: emailRetrieve,\n      address: ethAddress\n    });\n  }\n\n  async function getGallery(address) {\n    // get user profile\n    const targetAddress = address;\n    console.log('address targeted: ', targetAddress);\n    const username = await getNameForAddress(targetAddress);\n    const profile = await getProfileForAddress(targetAddress);\n    console.log('Profile: ', profile);\n\n    if (profile.pics.length > 0) {\n      setGalleryOwner(username.username);\n      setGallery(profile.pics);\n    } else {\n      alert(\"No pics from: \" + username.username);\n    }\n  }\n\n  async function getLikes(user) {\n    let query = new Moralis.Query(\"UserImage\"); //has to be!\n\n    const relation = user.relation('likes'); // const kwery = relation.query;\n\n    let results = await relation.query().find();\n    const pics = results.map(function (r) {\n      return {\n        url: r.attributes.img.url(),\n        name: r.attributes.img.name()\n      };\n    });\n    console.log('likes is ', results);\n    setLikes(pics);\n  }\n\n  async function fetchUserList() {\n    if (userList) {\n      setUserList(null);\n    } else {\n      const userAddresses = await Moralis.Cloud.run(\"getUserList\", {}); // console.log('other users:',userAddresses);\n\n      setUserList(userAddresses);\n    }\n  } // Backend aggregators\n\n\n  async function setUserDataBackend() {\n    //validate inputs!\n    const newUsername = document.getElementById('username').value;\n    const newEmail = document.getElementById('email').value;\n    let saveRequired = false;\n\n    if (newUsername !== userData.username && newUsername !== '') {\n      user.set(\"username\", newUsername);\n      saveRequired = true;\n      alert(\"Username changed to: \" + newUsername);\n    } else {\n      alert(\"Username has not changed\");\n    }\n\n    if (newEmail !== userData.email && newEmail !== '') {\n      user.set(\"email\", newEmail);\n      saveRequired = true;\n      alert(\"Email changed to: \" + newEmail);\n    } else {\n      alert(\"Email has not changed\");\n    }\n\n    if (saveRequired) {\n      user.save();\n      fetchUserData(user);\n    }\n  } //App handler functions\n  // Chain connections\n\n\n  async function connectContract() {\n    window.web3 = await Moralis.Web3.enable();\n    const web3Provided = new Web3('HTTP://127.0.0.1:7545');\n    window.contractInstance = new web3Provided.eth.Contract(tokenABI, contractAddress);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        height: '70px',\n        padding: '5px 0'\n      },\n      className: \"justify-content-end\",\n      children: [userData && userData.address ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginRight: '5px'\n        },\n        children: [userData.address.slice(0, 7), \"..\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(LogButton, {\n        userData: userData,\n        login: login,\n        logout: logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), userData ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '5px',\n          marginRight: '5px'\n        },\n        children: [userData.username, /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            setEditMode(true);\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }, this) : null, user && !userData ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setEditMode(true);\n        },\n        children: \"Set\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: /*#__PURE__*/_jsxDEV(UserData, {\n          userData: userData,\n          setUserDataBackend: setUserDataBackend,\n          setEditMode: setEditMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), !user && !userData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        src: baler,\n        rounded: true,\n        alt: \"drag-logo\",\n        style: {\n          height: '100%',\n          width: '45%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n      className: \"flex justify-content-center border\",\n      style: {\n        background: '#1167b1'\n      },\n      onClick: () => {\n        setNftSelected(null);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Mint new NFT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), user && userData ? /*#__PURE__*/_jsxDEV(Row, {\n      className: \"flex border\",\n      children: nftSelected ? /*#__PURE__*/_jsxDEV(CharacterSheet, {\n        user: user,\n        nftSelected: nftSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(MinterSpace, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n      className: \" justify-content-center border btn\",\n      style: {\n        background: '#187bcd'\n      },\n      onClick: () => {\n        setGalleryOpen(!galleryOpen);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [galleryOwner, \" Collection \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), gallery ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginLeft: '5px'\n        },\n        children: [\" \", gallery.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 18\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: gallery && galleryOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: gallery.map(function (d) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              setNftSelected(d);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              height: \"200\",\n              width: \"200\",\n              src: d.url,\n              alt: d.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"center\",\n        children: \"Mint something!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \" justify-content-center border\",\n      style: {\n        background: '#2a9df4'\n      },\n      onClick: () => {\n        setLikesOpen(!likesOpen);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"center\",\n        children: \"Likes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: likes && likesOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: likes && likes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"center\",\n          children: \"You have to like something..!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 16\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container center\",\n          id: \"gallery\",\n          children: likes.map(function (d) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => {\n                setNftSelected(d);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: d.url,\n                alt: d.name,\n                height: \"200\",\n                width: \"200\",\n                margin: \"5px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 20\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 12\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \" justify-content-center border\",\n      style: {\n        background: '#2a9df4'\n      },\n      onClick: fetchUserList,\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"center\",\n        children: \"Other users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: userList && userList.length > 0 ? userList.map(ad => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => {\n                getGallery(ad);\n              },\n              children: [ad.slice(0, 6), \"..\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 18\n          }, this);\n        }) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"O1erAVaPcYFoXNQG3z9dw1twPrY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/CalvinCutlass/Desktop/Coding/coding_2020/Ivan Academy/Moralis/baler/src/App.js"],"names":["React","useState","Container","Row","Button","Image","LogButton","MinterSpace","CharacterSheet","UserData","baler","Moralis","require","Web3","tokenJsonABI","App","user","setUser","userData","setUserData","gallery","setGallery","likes","setLikes","editMode","setEditMode","contractAddress","nftSelected","setNftSelected","galleryOpen","setGalleryOpen","likesOpen","setLikesOpen","userList","setUserList","galleryOwner","setGalleryOwner","tokenABI","initialize","serverURL","currentUser","User","current","fetchUserData","getGallery","attributes","ethAddress","getLikes","connectContract","console","log","onAccountsChanged","accounts","alert","login","userAuth","authenticate","error","logout","logOut","then","getProfileForAddress","address","Cloud","run","getNameForAddress","usernameRetrieve","get","emailRetrieve","username","email","targetAddress","profile","pics","length","query","Query","relation","results","find","map","r","url","img","name","fetchUserList","userAddresses","setUserDataBackend","newUsername","document","getElementById","value","newEmail","saveRequired","set","save","window","web3","enable","web3Provided","contractInstance","eth","Contract","height","padding","marginRight","slice","marginLeft","width","background","d","ad"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, {useState} from 'react';\n//Bootstrap\nimport './bootstrap.min.css';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Button from 'react-bootstrap/Button'\nimport Image from 'react-bootstrap/Image';\n//Components\nimport LogButton from './components/logButton';\nimport MinterSpace from './components/minterSpace';\nimport CharacterSheet from './components/characterSheet';\nimport UserData from './components/userData';\n//Helpers\n// Extras\nimport baler from './images/baler.png';\nconst Moralis = require('moralis');\nconst Web3 = require('web3');\n\n\nconst tokenJsonABI = require('./contracts/Token.json');\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  //Data on dApp\n  const [userData, setUserData] = useState(null);\n  const [gallery, setGallery] = useState(null);\n  const [likes, setLikes] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  // Replace this upon deployment:\n  const [contractAddress]= useState(\"0x8D25eB164C769fCf10666E3d7ada650328d59b16\");\n  // const [contractInstance]=useState(null);\n  //DApp handlers\n  const [nftSelected, setNftSelected] = useState(null);\n  const [galleryOpen, setGalleryOpen] = useState(false);\n  const [likesOpen, setLikesOpen] = useState(false);\n  const [userList, setUserList] = useState(true);\n  const [galleryOwner, setGalleryOwner] = useState(null);\n\n  const tokenABI = tokenJsonABI['abi'];\n\n  // Moralis confs.\n  // Replace these per server:\n  Moralis.initialize(\"GsvY24d7vRLDtU5ixRYK10Ry7GscQEJP8mDVzzY3\");\n  Moralis.serverURL = 'https://wvtjjsmhximj.moralis.io:2053/server'\n\n\n  //Moralis functions\n  const currentUser = Moralis.User.current();\n  if (currentUser) {\n    if(!user){\n      setUser(currentUser);\n      fetchUserData(currentUser);\n      getGallery(currentUser.attributes.ethAddress);\n      getLikes(currentUser);\n      connectContract();\n\n    }\n  } else {\n    console.log('should explain protocol and ask for login');\n  }\n\n  Moralis.Web3.onAccountsChanged(async function (accounts) {\n    alert('Account changed!');\n    setUserData(null);\n  });\n\n  async function login() {\n    let userAuth;\n    try {\n        userAuth = await Moralis.Web3.authenticate();\n        setUser(userAuth);\n        fetchUserData(userAuth);\n        alert(\"User logged in\")\n    } catch (error) {\n        console.log(error);\n    }\n  }\n\n  async function logout(){\n      console.log('Login out');\n      Moralis.User.logOut().then(() => {\n        const currentUser = Moralis.User.current();  // this will now be null\n        setUser(currentUser);\n        setUserData(null);\n        setGallery(null);\n        setLikes(null);\n      });\n    }\n\n  function getProfileForAddress(address) {\n      return address\n        ? Moralis.Cloud.run(\"getProfileForAddress\", { address })\n        : null;\n    }\n  function getNameForAddress(address) {\n        return address\n          ? Moralis.Cloud.run(\"getNameForAddress\", { address })\n          : null;\n    }\n\n  //Backend queries\n  async function fetchUserData(currentUser){\n    let usernameRetrieve = await currentUser.get('username')\n    let emailRetrieve = await currentUser.get('email')\n    let ethAddress = await currentUser.get('ethAddress')\n    await setUserData({username:usernameRetrieve, email:emailRetrieve, address: ethAddress})\n  }\n\n\n  async function getGallery(address){\n      // get user profile\n      const targetAddress = address;\n      console.log('address targeted: ',targetAddress)\n      const username = await getNameForAddress(targetAddress);\n      const profile = await getProfileForAddress(targetAddress);\n      console.log('Profile: ',profile);\n      if (profile.pics.length > 0) {\n        setGalleryOwner(username.username)\n        setGallery(profile.pics)\n      } else {\n        alert(\"No pics from: \"+username.username);\n      }\n    }\n\n  async function getLikes(user){\n      let query = new Moralis.Query(\"UserImage\"); //has to be!\n      const relation = user.relation('likes')\n      // const kwery = relation.query;\n      let results = await relation.query().find();\n      const pics = results.map(function (r) {\n        return {\n          url: r.attributes.img.url(),\n          name: r.attributes.img.name(),\n        };\n      });\n      console.log('likes is ',results)\n      setLikes(pics);\n      }\n\n  async function fetchUserList() {\n    if(userList){\n      setUserList(null);\n      }else{\n      const userAddresses = await Moralis.Cloud.run(\"getUserList\", {});\n        // console.log('other users:',userAddresses);\n      setUserList(userAddresses);}\n    }\n\n// Backend aggregators\nasync function setUserDataBackend(){\n  //validate inputs!\n  const newUsername = document.getElementById('username').value\n  const newEmail = document.getElementById('email').value\n  let saveRequired = false;\n  if(newUsername !== userData.username && newUsername !== ''){\n    user.set(\"username\",newUsername);\n    saveRequired=true;\n    alert(\"Username changed to: \"+newUsername)\n  }else{\n    alert(\"Username has not changed\")\n  }\n  if (newEmail !== userData.email && newEmail !== ''){\n    user.set(\"email\",newEmail);\n    saveRequired=true;\n    alert(\"Email changed to: \"+newEmail)\n  }else{\n    alert(\"Email has not changed\")\n  }\n  if(saveRequired){\n    user.save();\n    fetchUserData(user);\n  }\n}\n\n//App handler functions\n\n\n  // Chain connections\n  async function connectContract() {\n    window.web3 = await Moralis.Web3.enable();\n    const web3Provided = new Web3('HTTP://127.0.0.1:7545');\n    window.contractInstance = new web3Provided.eth.Contract(tokenABI, contractAddress);\n  }\n\n  return (\n    <Container fluid className=\"App\">\n      <Row style={{ height: '70px', padding: '5px 0', }} className=\"justify-content-end\">\n      {/*Login/Logout, address, name, edit user data*/}\n        { userData && userData.address?\n          <div style={{marginRight: '5px'}}>\n              {userData.address.slice(0,7)}..\n          </div>\n        :null}\n        <LogButton\n          userData={userData}\n          login={login}\n          logout={logout}\n          />\n        { userData?\n            <div style={{marginLeft: '5px',marginRight: '5px'}}>\n                {userData.username}\n                <Button onClick={()=>{setEditMode(true)}}>Edit</Button>\n            </div>\n          :null}\n{/* this will be prompt for new users,(form) to create username, email, etc */}\n        {user && !userData?\n          <Button onClick={()=>{setEditMode(true)}}>Set</Button>\n        :null}\n      </Row>\n      <Row className='justify-content-center'>\n        {editMode?\n          <div className='center'>\n          <UserData\n            userData={userData}\n            setUserDataBackend = {setUserDataBackend}\n            setEditMode={setEditMode}\n          />\n          </div>\n        :\n        null}\n      </Row>\n      {!user && !userData?\n      <div className='justify-content-center'>\n      <Image src={baler} rounded alt=\"drag-logo\" style={{height:'100%', width:'45%'}}  />\n      </div>\n      :null}\n      <Row\n        className=\"flex justify-content-center border\"\n        style={{background: '#1167b1',}}\n        onClick={()=>{\n          setNftSelected(null)}}\n              >\n            {/*title minter*/}\n                <h2>Mint new NFT</h2>\n      </Row>\n                {/*image handler */}\n          {user && userData ?\n            <Row className='flex border'>\n\n            {nftSelected?\n                  <CharacterSheet\n                    user={user}\n                    nftSelected={nftSelected}\n                  />\n                  :\n                  <MinterSpace\n                    user={user}\n                  />\n                }\n            </Row>\n              :null}\n      <Row className=' justify-content-center border btn' style={{background: '#187bcd',}} onClick={()=>{setGalleryOpen(!galleryOpen)}}>\n      {/*Collection list and character sheet handler */}\n        <h3>{galleryOwner} Collection </h3>\n        {gallery?<h3 style={{marginLeft:'5px'}}> {gallery.length}</h3>:null}\n      </Row>\n      <Row>\n        { gallery && galleryOpen?\n            <div>\n            {gallery.map(function(d){\n              return(\n                <div onClick={()=>{setNftSelected(d)}}>\n                  <img\n                    height=\"200\"\n                    width=\"200\"\n                    src={d.url}\n                    alt={d.name}\n                  />\n                  </div>\n              )})}\n              </div>\n          :\n          <p className='center'>Mint something!</p>\n        }\n        </Row>\n        <Row\n          className=' justify-content-center border'\n          style={{background: '#2a9df4',}}\n          onClick={()=>{setLikesOpen(!likesOpen)}}\n          >\n         {/*Likes list ..*/}\n         <h3 className='center'>Likes</h3>\n         </Row>\n         <Row>\n         { likes && likesOpen ?\n           <div>\n            {likes && likes.length === 0?\n\n               <p className='center'>You have to like something..!</p>\n               :\n             <div className='container center' id='gallery'>\n               {likes.map(function(d){\n                 return(\n                   <div onClick={()=>{setNftSelected(d)}}>\n                     <img src={d.url} alt={d.name} height=\"200\" width=\"200\" margin=\"5px\"></img>\n                   </div>\n                   )\n                   })}\n             </div>\n            }\n          </div>\n           :\n           null\n         }\n         </Row>\n         <Row\n           className=' justify-content-center border'\n           style={{background: '#2a9df4',}}\n           onClick={fetchUserList}\n         >\n         {/*Users list */}\n         <h3 className='center'>Other users</h3>\n         </Row>\n         <Row>\n           <div className='center'>\n           {userList && userList.length>0?\n             userList.map((ad)=>{\n               return(\n                 <div>\n                 <div onClick={()=>{\n                   getGallery(ad);\n                 }}>\n                   {ad.slice(0,6)}..\n                 </div><br />\n                 </div>\n               )\n             })\n             :null}\n           </div>\n         </Row>\n    </Container>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
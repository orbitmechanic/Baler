{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.resolvingPromise = resolvingPromise;\nexports.when = when;\nexports.continueWhile = continueWhile;\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\")); // Create Deferred Promise\n\n\nfunction resolvingPromise() {\n  var res;\n  var rej;\n  var promise = new _promise.default(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\n\nfunction when(promises) {\n  var objects;\n  var arrayArgument = (0, _isArray.default)(promises);\n\n  if (arrayArgument) {\n    objects = promises;\n  } else {\n    objects = arguments;\n  }\n\n  var total = objects.length;\n  var hadError = false;\n  var results = [];\n  var returnValue = arrayArgument ? [results] : results;\n  var errors = [];\n  results.length = objects.length;\n  errors.length = objects.length;\n\n  if (total === 0) {\n    return _promise.default.resolve(returnValue);\n  }\n\n  var promise = new resolvingPromise();\n\n  var resolveOne = function () {\n    total--;\n\n    if (total <= 0) {\n      if (hadError) {\n        promise.reject(errors);\n      } else {\n        promise.resolve(returnValue);\n      }\n    }\n  };\n\n  var chain = function (object, index) {\n    if (object && typeof object.then === 'function') {\n      object.then(function (result) {\n        results[index] = result;\n        resolveOne();\n      }, function (error) {\n        errors[index] = error;\n        hadError = true;\n        resolveOne();\n      });\n    } else {\n      results[index] = object;\n      resolveOne();\n    }\n  };\n\n  for (var i = 0; i < objects.length; i++) {\n    chain(objects[i], i);\n  }\n\n  return promise;\n}\n\nfunction continueWhile(test, emitter) {\n  if (test()) {\n    return emitter().then(function () {\n      return continueWhile(test, emitter);\n    });\n  }\n\n  return _promise.default.resolve();\n}","map":{"version":3,"sources":["D:/8 Github/baler/node_modules/moralis/lib/browser/promiseUtils.js"],"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","resolvingPromise","when","continueWhile","_isArray","_promise","res","rej","promise","default","resolve","reject","promises","objects","arrayArgument","arguments","total","length","hadError","results","returnValue","errors","resolveOne","chain","object","index","then","result","error","i","test","emitter"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\r\n\r\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\r\n\r\n_Object$defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nexports.resolvingPromise = resolvingPromise;\r\nexports.when = when;\r\nexports.continueWhile = continueWhile;\r\n\r\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\r\n\r\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\")); // Create Deferred Promise\r\n\r\n\r\nfunction resolvingPromise() {\r\n  var res;\r\n  var rej;\r\n  var promise = new _promise.default(function (resolve, reject) {\r\n    res = resolve;\r\n    rej = reject;\r\n  });\r\n  promise.resolve = res;\r\n  promise.reject = rej;\r\n  return promise;\r\n}\r\n\r\nfunction when(promises) {\r\n  var objects;\r\n  var arrayArgument = (0, _isArray.default)(promises);\r\n\r\n  if (arrayArgument) {\r\n    objects = promises;\r\n  } else {\r\n    objects = arguments;\r\n  }\r\n\r\n  var total = objects.length;\r\n  var hadError = false;\r\n  var results = [];\r\n  var returnValue = arrayArgument ? [results] : results;\r\n  var errors = [];\r\n  results.length = objects.length;\r\n  errors.length = objects.length;\r\n\r\n  if (total === 0) {\r\n    return _promise.default.resolve(returnValue);\r\n  }\r\n\r\n  var promise = new resolvingPromise();\r\n\r\n  var resolveOne = function () {\r\n    total--;\r\n\r\n    if (total <= 0) {\r\n      if (hadError) {\r\n        promise.reject(errors);\r\n      } else {\r\n        promise.resolve(returnValue);\r\n      }\r\n    }\r\n  };\r\n\r\n  var chain = function (object, index) {\r\n    if (object && typeof object.then === 'function') {\r\n      object.then(function (result) {\r\n        results[index] = result;\r\n        resolveOne();\r\n      }, function (error) {\r\n        errors[index] = error;\r\n        hadError = true;\r\n        resolveOne();\r\n      });\r\n    } else {\r\n      results[index] = object;\r\n      resolveOne();\r\n    }\r\n  };\r\n\r\n  for (var i = 0; i < objects.length; i++) {\r\n    chain(objects[i], i);\r\n  }\r\n\r\n  return promise;\r\n}\r\n\r\nfunction continueWhile(test, emitter) {\r\n  if (test()) {\r\n    return emitter().then(function () {\r\n      return continueWhile(test, emitter);\r\n    });\r\n  }\r\n\r\n  return _promise.default.resolve();\r\n}"]},"metadata":{},"sourceType":"script"}